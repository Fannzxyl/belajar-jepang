<!DOCTYPE html>
<html lang="id" data-theme="pastel">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>Kosakata Bahasa Jepang ‚Äî Latihan</title>
    <meta name="description" content="Daftar kosakata dasar bahasa Jepang berdasarkan kategori. Lengkap dengan kana, romaji, arti, dan audio pelafalan." />
    <meta name="theme-color" content="#7a6cff">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;700&family=Noto+Serif+JP:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
        /* Menggunakan style yang sama dari index.html untuk konsistensi */
        :root{
            --bg:#f8fbff; --panel:#ffffff; --soft:#f2f6ff; --ink:#132030; --muted:#76849c;
            --pri:#7a6cff; --sec:#16c6a1; --warn:#ff7b7b; --ok:#2fb875; --accent:#ffd166;
            --btn:#e9eefc; --btnText:#0b101a; --border:rgba(19,32,48,.10);
            --radius:18px; --shadow:0 6px 18px rgba(15,23,34,.08);
            --ring: 0 0 0 3px rgba(122,108,255,.28);
            --iconColor: var(--muted);
            --transition-duration: 0.2s;
        }
        [data-theme="hc"]{
            --bg:#0a0f1a; --panel:#0f1626; --soft:#0c1220; --ink:#e6efff; --muted:#9fb0cc;
            --pri:#8fa8ff; --sec:#3dd8b5; --warn:#ff8c8c; --ok:#7be0b3; --accent:#ffd98a;
            --btn:#18243a;
            --btnText:#e6efff;
            --border:rgba(230,239,255,.12);
            --ring: 0 0 0 3px rgba(143,168,255,.35);
            --iconColor: var(--ink);
        }
        *{box-sizing:border-box}
        html, body { max-width: 100%; overflow-x: hidden; }
        body {
            min-height: 100svh;
            margin:0;font-family:'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;background:
            radial-gradient(900px 420px at -10% -20%, rgba(122,108,255,.10), transparent),
            radial-gradient(900px 420px at 110% -30%, rgba(22,198,161,.12), transparent),
            var(--bg);color:var(--ink);
            transition: background-color var(--transition-duration) ease-out, color var(--transition-duration) ease-out;
        }
        .wrap{
            /* Memastikan konten tidak terlalu lebar di layar besar */
            max-width: 960px;
            margin: auto; /* Memposisikan konten di tengah */
            padding: 16px;
            /* Menyesuaikan padding untuk area aman pada perangkat mobile (notch, dll) */
            padding-left: calc(16px + env(safe-area-inset-left));
            padding-right: calc(16px + env(safe-area-inset-right));
        }
        header{
            position:sticky;top:0;z-index:30;
            background:linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.72));
            backdrop-filter: blur(8px);
            border-bottom:1px solid var(--border);
            padding-top:env(safe-area-inset-top);
            transition: background var(--transition-duration) ease-out, backdrop-filter var(--transition-duration) ease-out, border-bottom-color var(--transition-duration) ease-out;
        }
        [data-theme="hc"] header{background:linear-gradient(180deg, rgba(15,22,38,.86), rgba(15,22,38,.66))}
        
        .brand{ display:flex; align-items:center; gap:12px; justify-content: space-between; flex-wrap: wrap; }
        .logo{width:36px;height:36px;border-radius:12px;background:linear-gradient(135deg,var(--pri),var(--sec));box-shadow:var(--shadow);
        transition: box-shadow var(--transition-duration) ease-out, background var(--transition-duration) ease-out;}
        h1{font-size:20px;margin:0}
        .small{font-size:12px;color:var(--muted)}
        .card{background:var(--panel);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px;border:1px solid var(--border);
        transition: background-color var(--transition-duration) ease-out, border-color var(--transition-duration) ease-out, box-shadow var(--transition-duration) ease-out;}
        .card h2{font-size:16px;margin:0 0 10px 0; display: flex; align-items: center; gap: 8px;}
        .card h2 .icon { color: var(--iconColor); transition: color var(--transition-duration) ease-out;}
        .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
        .btn{ min-height:52px; padding: 0 16px; border-radius: 12px; border: none; cursor: pointer; font-size: 14px; font-weight: 500; transition: all var(--transition-duration) ease-out; color: var(--ink); background: var(--btn); display: flex; align-items: center; justify-content: center; gap: 8px; text-decoration: none; }
        .btn:active{transform:translateY(1px)}
        .btn.primary{ background:linear-gradient(135deg, var(--pri), var(--sec)); color:white; }
        .btn.ghost{background:transparent;outline:1px solid var(--border); color: var(--ink);}
        .btn:focus-visible{outline:none; box-shadow:var(--ring); outline-offset: 3px;}
        .spacer{height:16px}
        /* Sembunyikan nav/header lama kalau ada */
        .main-nav{ display:none !important; }

        input[type="search"]{
            width:100%; /* Memastikan input selalu memenuhi lebar container */
            padding:12px;border-radius:12px;border:1px solid var(--border);background:var(--soft);color:var(--ink);
            transition: border-color var(--transition-duration) ease-out, background-color var(--transition-duration) ease-out, box-shadow var(--transition-duration) ease-out;
        }
        input[type="search"]:focus { border-color: var(--pri); outline: none; box-shadow: var(--ring); }
        .chips{
            display:flex; flex-wrap: wrap; /* Memastikan chip-chip akan melipat ke baris baru jika tidak cukup ruang */
            gap:8px;
        }
        .chip{ padding:8px 12px; border-radius:999px; background:var(--soft); border:1px solid var(--border); cursor:pointer; font-size: 14px; transition: all var(--transition-duration) ease-out; color: var(--ink); }
        .chip.active{ background:linear-gradient(135deg, rgba(122,108,255,.18), rgba(22,198,161,.18)); border-color: var(--pri); }

        /* Style khusus untuk Daftar Kosakata */
        .vocab-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .vocab-item {
            display: flex;
            justify-content: space-between; /* Memisahkan konten Jepang dan Indonesia */
            align-items: center;
            padding: 12px 8px;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: background-color var(--transition-duration) ease-out;
        }
        .vocab-item:hover {
            background-color: var(--soft);
        }
        .vocab-item:last-child {
            border-bottom: none;
        }
        .vocab-jp {
            font-family: 'Noto Sans JP', sans-serif;
            font-size: 20px;
            flex-shrink: 0; /* Mencegah bagian Jepang menyusut terlalu banyak */
        }
        .vocab-jp .kanji {
            font-weight: 600;
        }
        .vocab-jp .kana {
            font-size: 14px;
            color: var(--muted);
            margin-left: 8px;
        }
        .vocab-id {
            text-align: right;
            flex-grow: 1; /* Memungkinkan bagian Indonesia mengisi ruang yang tersisa */
            min-width: 0; /* Penting untuk flexbox agar konten bisa memendek */
            white-space: normal; /* Mengizinkan teks untuk melipat (wrap) */
            word-break: break-word; /* Memecah kata panjang jika diperlukan */
        }
        .vocab-id .romaji {
            font-size: 12px;
            color: var(--muted);
            display: block;
        }
        .vocab-id .arti {
            font-size: 16px;
        }
        .vocab-item i {
            color: var(--muted);
            margin-left: 16px;
            font-size: 16px;
            flex-shrink: 0; /* Mencegah ikon menyusut */
        }

        /* === Sidebar === */
        .sidebar{
            position:fixed; top:0; left:-300px; width:280px; height:100%;
            background:var(--panel); box-shadow:var(--shadow); z-index:1000;
            transition:left .3s ease-in-out; padding:20px; padding-top:calc(20px + env(safe-area-inset-top));
            display:flex; flex-direction:column; gap:10px; overflow-y:auto; border-right:1px solid var(--border);
        }
        .sidebar.is-open{ left:0; }
        .sidebar .menu{ list-style:none; margin:0; padding:0; }
        .sidebar .menu li a{
            display:flex; gap:.5rem; align-items:center; padding:.75rem 1rem;
            border-radius:12px; color:var(--ink); text-decoration:none;
        }
        .sidebar .menu li a:hover{ background:var(--soft); }
        .sidebar .menu li a.active{ background:rgba(122,108,255,.12); font-weight:600; }

        /* Toggle button */
        .sidebar-toggle-btn{
            position:fixed; top:16px; left:16px; z-index:1001; background:var(--btn);
            border:1px solid var(--border); border-radius:50%; width:44px; height:44px;
            display:flex; align-items:center; justify-content:center; cursor:pointer; box-shadow:var(--shadow);
            transition: all 0.3s ease-in-out; /* Added transition for smooth movement */
        }
        .sidebar-toggle-btn i{ color:var(--ink); font-size:20px; }

        @media (min-width:768px){ 
            body.sidebar-open{ padding-left:280px; } 
            .sidebar-toggle-btn { left: 16px; } /* Stays on the left */
            .sidebar.is-open + .sidebar-toggle-btn { left: 296px; } /* Moves with the sidebar */
        }
        @media (max-width:640px){ .sidebar{ width:84vw; max-width:320px; } }

        /* Amanin layout */
        header .brand{ position:relative; z-index:1002; padding-left:60px; }
        @media (max-width:767px){
            header .brand{ padding-left:0; }
            .sidebar-toggle-btn{ top:calc(16px + env(safe-area-inset-top)); }
        }

        /* CSS untuk ujian ketik jawaban */
        #fcPrompt{ word-break:keep-all }
        #fcFeedback.ok{ color:var(--ok) }
        #fcFeedback.bad{ color:var(--warn) }

        /* Form look & feel */
        input, select, textarea, input[type="number"], input[type="text"]{
            height:52px; padding:0 14px; border:1px solid var(--border);
            border-radius:12px; background:var(--panel); color:var(--ink);
            box-shadow: var(--shadow);
            transition: box-shadow var(--transition-duration) ease, border-color var(--transition-duration) ease, background var(--transition-duration) ease;
        }
        input::placeholder{ color: var(--muted); }

        /* Focus ring */
        input:focus, select:focus, textarea:focus, input[type="number"]:focus, input[type="text"]:focus{
            outline:none; box-shadow: var(--ring); border-color: transparent;
        }

        /* Number tidy (hapus spinner di mobile/Chromium) */
        input[type=number]::-webkit-outer-spin-button,
        input[type=number]::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }
        input[type=number]{ -moz-appearance:textfield; }

        /* Select arrow padding sudah di CSS; tambahkan height konsisten */
        select{ height:52px; }
    </style>
</head>
<body>
    <!-- Toggle Button (burger) -->
    <button id="sidebarToggle" class="sidebar-toggle-btn" aria-label="Toggle Sidebar">
        <i class="fa-solid fa-bars"></i>
    </button>

    <!-- Sidebar -->
    <nav id="sidebar" class="sidebar">
        <div class="row" style="justify-content: space-between; align-items: center;">
            <h3 style="margin:0;">Navigasi</h3>
            <button class="btn ghost" id="closeSidebar" aria-label="Tutup Sidebar">
                <i class="fa-solid fa-times"></i>
            </button>
        </div>
        <hr style="border:none;border-top:1px solid var(--border);width:100%;">
        <ul class="menu">
            <li><a href="index.html">üìò Latihan</a></li>
            <li><a href="index2.html">üóÇÔ∏è Flashcard</a></li>
            <li><a href="index3.html">üßÆ Tabel Kana</a></li>
            <li><a href="index4.html">üóíÔ∏è Kosakata</a></li>
            <li><a href="index5.html">üí¨ Ungkapan</a></li>
            <!-- Penambahan: Item menu "Tebak Arti" -->
            <li><a href="index7.html">üß† Tebak Arti</a></li>
            <li><a href="index6.html">‚úçÔ∏è Menulis</a></li>
        </ul>
    </nav>

    <header>
        <div class="wrap">
            <div class="brand">
                <svg class="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" width="36" height="36">
                    <defs>
                        <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
                            <stop stop-color="#7a6cff"/><stop offset="1" stop-color="#16c6a1"/>
                        </linearGradient>
                    </defs>
                    <rect width="64" height="64" rx="14" fill="url(#g)"/>
                    <text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle"
                          font-family="Noto Sans JP, 'Noto Serif JP', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif"
                          font-size="38" fill="white" dy="-2">„ÅÇ</text>
                </svg>
                <div>
                    <h1>Pelatih Kana Jepang</h1>
                    <div class="small">Daftar Kosakata Dasar</div>
                </div>
            </div>
             <!-- NAVIGASI UTAMA (LAMA - TERSEMBUNYI) -->
             <nav class="main-nav">
                <div class="row">
                    <a href="index.html" class="btn ghost"><i class="fa-solid fa-home"></i> Latihan</a>
                    <a href="index2.html" class="btn ghost"><i class="fa-solid fa-clone"></i> Flashcard</a>
                    <a href="index3.html" class="btn ghost"><i class="fa-solid fa-table"></i> Tabel Kana</a>
                    <a href="index4.html" class="btn primary"><i class="fa-solid fa-book-open"></i> Kosakata</a>
                    <a href="index5.html" class="btn ghost"><i class="fa-solid fa-comments"></i> Ungkapan</a>
                </div>
            </nav>
        </div>
    </header>

    <main class="wrap">
        <div class="card">
            <h2><i class="fa-solid fa-book-open icon"></i> Kosakata (ÂçòË™û)</h2>
            <div class="small">Cari kosakata atau filter berdasarkan kategori. Klik pada kata untuk mendengarkan pelafalannya.</div>
            <div class="spacer"></div>
            <input type="search" id="searchInput" placeholder="Cari kata (e.g., 'neko', 'kucing', '„Å≠„Åì')...">
            <div class="spacer"></div>
            <div id="categoryChips" class="chips">
                <!-- Kategori akan digenerate oleh JavaScript -->
            </div>
        </div>

        <div class="spacer"></div>

        <!-- Penambahan: CTA card "Tebak Arti" -->
        <div class="card" id="cta-tebak-arti">
          <h2><i class="fa-solid fa-brain icon"></i> Tebak Arti (JP‚ÜíID)</h2>
          <div class="small">Kuis arti Jepang ‚Üí Indonesia (A‚ÄìD). Pilih kategori & jumlah soal.</div>
          <div class="spacer"></div>
          <div class="row" style="gap:8px;flex-wrap:wrap">
            <a class="btn primary" href="index7.html"><i class="fa-solid fa-play"></i> Mulai Tebak Arti</a>
            <a class="btn ghost" href="index7.html#kategori"><i class="fa-solid fa-list"></i> Pilih Kategori</a>
          </div>
        </div>

        <div class="spacer"></div>

        <div class="card">
            <ul id="vocabList" class="vocab-list">
                <!-- Daftar kosakata akan digenerate oleh JavaScript -->
            </ul>
        </div>

        <div class="spacer"></div>

        <!-- === Flashcard Ketik Jawaban (Ujian) === -->
        <div class="card" style="grid-column:span 12">
            <h3><i class="fa-solid fa-rectangle-list icon"></i> Ujian ‚Äî Ketik Jawaban</h3>

            <div class="row">
                <select id="fcMode" class="input" aria-label="Mode pertanyaan">
                    <option value="jp_idn">JP ‚Üí Arti (ketik arti)</option>
                    <option value="jp_ro">JP ‚Üí Romaji (ketik romaji)</option>
                    <option value="idn_jp">Arti ‚Üí JP (ketik kana/kanji)</option>
                    <option value="ro_jp">Romaji ‚Üí JP (ketik kana/kanji)</option>
                </select>
                <select id="fcSource" class="input" aria-label="Sumber kartu">
                    <option value="filter">Dari hasil filter</option>
                    <option value="fav">Hanya favorit</option>
                    <option value="rand20">Acak 20</option>
                </select>
                <button class="btn primary" id="fcStart">Mulai</button>
            </div>

            <div class="spacer"></div>

            <div id="fcArea" hidden>
                <div class="small" id="fcProgress">0 / 0</div>
                <div id="fcPrompt" class="center" style="font-size:28px;margin:10px 0 16px"></div>

                <div style="max-width:520px;margin:0 auto">
                    <input id="fcInput" class="input" placeholder="Ketik jawaban‚Ä¶" autocomplete="off" autocapitalize="none" aria-label="Jawaban">
                    <div class="row" style="justify-content:center;margin-top:10px;gap:8px">
                        <button class="btn" id="fcCheck">Cek (Enter)</button>
                        <button class="btn ghost" id="fcReveal">Lihat jawaban</button>
                        <button class="btn" id="fcNext" disabled>Berikutnya (Tab)</button>
                    </div>
                    <div class="small center" id="fcFeedback" style="min-height:22px;margin-top:8px"></div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // DATA KOSAKATA
        const vocabulary = [
            // --- Salam dan Frasa Dasar ---
            { id: 'konnichiwa', kana: '„Åì„Çì„Å´„Å°„ÅØ', kanji: '‰ªäÊó•„ÅØ', romaji: 'konnichiwa', arti: 'Halo / Selamat siang', kategori: 'salam' },
            { id: 'ohayougozaimasu', kana: '„Åä„ÅØ„Çà„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô', kanji: '', romaji: 'ohayou gozaimasu', arti: 'Selamat pagi', kategori: 'salam' },
            { id: 'konbanwa', kana: '„Åì„Çì„Å∞„Çì„ÅØ', kanji: '‰ªäÊô©„ÅØ', romaji: 'konbanwa', arti: 'Selamat malam', kategori: 'salam' },
            { id: 'oyasuminasai', kana: '„Åä„ÇÑ„Åô„Åø„Å™„Åï„ÅÑ', kanji: '„Åä‰ºë„Åø„Å™„Åï„ÅÑ', romaji: 'oyasuminasai', arti: 'Selamat tidur', kategori: 'salam' },
            { id: 'sayounara', kana: '„Åï„Çà„ÅÜ„Å™„Çâ', kanji: '', romaji: 'sayounara', arti: 'Selamat tinggal', kategori: 'salam' },
            { id: 'arigatou', kana: '„ÅÇ„Çä„Åå„Å®„ÅÜ', kanji: '', romaji: 'arigatou', arti: 'Terima kasih', kategori: 'salam' },
            { id: 'arigatougozaimasu', kana: '„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô', kanji: '', romaji: 'arigatou gozaimasu', arti: 'Terima kasih (formal)', kategori: 'salam' },
            { id: 'doumoarigatou', kana: '„Å©„ÅÜ„ÇÇ„ÅÇ„Çä„Åå„Å®„ÅÜ', kanji: '', romaji: 'doumo arigatou', arti: 'Terima kasih banyak', kategori: 'salam' },
            { id: 'sumimasen', kana: '„Åô„Åø„Åæ„Åõ„Çì', kanji: '', romaji: 'sumimasen', arti: 'Maaf / Permisi / Terima kasih', kategori: 'salam' },
            { id: 'gomennasai', kana: '„Åî„ÇÅ„Çì„Å™„Åï„ÅÑ', kanji: '', romaji: 'gomen nasai', arti: 'Maafkan saya', kategori: 'salam' },
            { id: 'hai', kana: '„ÅØ„ÅÑ', kanji: '', romaji: 'hai', arti: 'Ya', kategori: 'dasar' },
            { id: 'iie', kana: '„ÅÑ„ÅÑ„Åà', kanji: '', romaji: 'iie', arti: 'Tidak / Bukan', kategori: 'dasar' },
            { id: 'onegaishimasu', kana: '„Åä„Å≠„Åå„ÅÑ„Åó„Åæ„Åô', kanji: '„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô', romaji: 'onegai shimasu', arti: 'Mohon / Tolong', kategori: 'dasar' },
            { id: 'douzo', kana: '„Å©„ÅÜ„Åû', kanji: '', romaji: 'douzo', arti: 'Silakan', kategori: 'dasar' },
            { id: 'hajimemashite', kana: '„ÅØ„Åò„ÇÅ„Åæ„Åó„Å¶', kanji: '', romaji: 'hajimemashite', arti: 'Senang bertemu dengan Anda (perkenalan)', kategori: 'salam' },
            { id: 'yoroshikuonegaishimasu', kana: '„Çà„Çç„Åó„Åè„Åä„Å≠„Åå„ÅÑ„Åó„Åæ„Åô', kanji: '„Çà„Çç„Åó„Åè„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô', romaji: 'yoroshiku onegai shimasu', arti: 'Mohon bantuannya (saat perkenalan)', kategori: 'salam' },
            { id: 'itadakimasu', kana: '„ÅÑ„Åü„Å†„Åç„Åæ„Åô', kanji: '', romaji: 'itadakimasu', arti: 'Selamat makan (sebelum makan)', kategori: 'makanan' },
            { id: 'gochisousamadeshita', kana: '„Åî„Å°„Åù„ÅÜ„Åï„Åæ„Åß„Åó„Åü', kanji: '', romaji: 'gochisousama deshita', arti: 'Terima kasih atas makanannya (setelah makan)', kategori: 'makanan' },

            // --- Orang dan Keluarga ---
            { id: 'watashi', kana: '„Çè„Åü„Åó', kanji: 'ÁßÅ', romaji: 'watashi', arti: 'Saya', kategori: 'orang' },
            { id: 'anata', kana: '„ÅÇ„Å™„Åü', kanji: 'Ë≤¥Êñπ', romaji: 'anata', arti: 'Anda / Kamu', kategori: 'orang' },
            { id: 'anohito', kana: '„ÅÇ„ÅÆ„Å≤„Å®', kanji: '„ÅÇ„ÅÆ‰∫∫', romaji: 'ano hito', arti: 'Orang itu', kategori: 'orang' },
            { id: 'sensei', kana: '„Åõ„Çì„Åõ„ÅÑ', kanji: 'ÂÖàÁîü', romaji: 'sensei', arti: 'Guru', kategori: 'orang' },
            { id: 'gakusei', kana: '„Åå„Åè„Åõ„ÅÑ', kanji: 'Â≠¶Áîü', romaji: 'gakusei', arti: 'Murid / Pelajar', kategori: 'orang' },
            { id: 'kaishain', kana: '„Åã„ÅÑ„Åó„ÇÉ„ÅÑ„Çì', kanji: '‰ºöÁ§æÂì°', romaji: 'kaishain', arti: 'Karyawan perusahaan', kategori: 'orang' },
            { id: 'isha', kana: '„ÅÑ„Åó„ÇÉ', kanji: 'ÂåªËÄÖ', romaji: 'isha', arti: 'Dokter', kategori: 'orang' },
            { id: 'otousan', kana: '„Åä„Å®„ÅÜ„Åï„Çì', kanji: '„ÅäÁà∂„Åï„Çì', romaji: 'otousan', arti: 'Ayah', kategori: 'keluarga' },
            { id: 'okaasan', kana: '„Åä„Åã„ÅÇ„Åï„Çì', kanji: '„ÅäÊØç„Åï„Çì', romaji: 'okaasan', arti: 'Ibu', kategori: 'keluarga' },
            { id: 'oniisan', kana: '„Åä„Å´„ÅÑ„Åï„Çì', kanji: '„ÅäÂÖÑ„Åï„Çì', romaji: 'oniisan', arti: 'Kakak laki-laki', kategori: 'keluarga' },
            { id: 'oneesan', kana: '„Åä„Å≠„Åà„Åï„Çì', kanji: '„ÅäÂßâ„Åï„Çì', romaji: 'oneesan', arti: 'Kakak perempuan', kategori: 'keluarga' },
            { id: 'otouto', kana: '„Åä„Å®„ÅÜ„Å®', kanji: 'Âºü', romaji: 'otouto', arti: 'Adik laki-laki', kategori: 'keluarga' },
            { id: 'imouto', kana: '„ÅÑ„ÇÇ„ÅÜ„Å®', kanji: 'Â¶π', romaji: 'imouto', arti: 'Adik perempuan', kategori: 'keluarga' },
            { id: 'kodomo', kana: '„Åì„Å©„ÇÇ', kanji: 'Â≠ê‰æõ', romaji: 'kodomo', arti: 'Anak-anak', kategori: 'keluarga' },

            // --- Angka ---
            { id: 'ichi', kana: '„ÅÑ„Å°', kanji: '‰∏Ä', romaji: 'ichi', arti: 'Satu', kategori: 'angka' },
            { id: 'ni', kana: '„Å´', kanji: '‰∫å', romaji: 'ni', arti: 'Dua', kategori: 'angka' },
            { id: 'san', kana: '„Åï„Çì', kanji: '‰∏â', romaji: 'san', arti: 'Tiga', kategori: 'angka' },
            { id: 'shi/yon', kana: '„Åó / „Çà„Çì', kanji: 'Âõõ', romaji: 'shi / yon', arti: 'Empat', kategori: 'angka' },
            { id: 'go', kana: '„Åî', kanji: '‰∫î', romaji: 'go', arti: 'Lima', kategori: 'angka' },
            { id: 'roku', kana: '„Çç„Åè', kanji: 'ÂÖ≠', romaji: 'roku', arti: 'Enam', kategori: 'angka' },
            { id: 'shichi/nana', kana: '„Åó„Å° / „Å™„Å™', kanji: '‰∏É', romaji: 'shichi / nana', arti: 'Tujuh', kategori: 'angka' },
            { id: 'hachi', kana: '„ÅØ„Å°', kanji: 'ÂÖ´', romaji: 'hachi', arti: 'Delapan', kategori: 'angka' },
            { id: 'kyuu/ku', kana: '„Åç„ÇÖ„ÅÜ / „Åè', kanji: '‰πù', romaji: 'kyuu / ku', arti: 'Sembilan', kategori: 'angka' },
            { id: 'juu', kana: '„Åò„ÇÖ„ÅÜ', kanji: 'ÂçÅ', romaji: 'juu', arti: 'Sepuluh', kategori: 'angka' },
            { id: 'hyaku', kana: '„Å≤„ÇÉ„Åè', kanji: 'Áôæ', romaji: 'hyaku', arti: 'Seratus', kategori: 'angka' },
            { id: 'sen', kana: '„Åõ„Çì', kanji: 'ÂçÉ', romaji: 'sen', arti: 'Seribu', kategori: 'angka' },
            { id: 'man', kana: '„Åæ„Çì', kanji: '‰∏á', romaji: 'man', arti: 'Sepuluh ribu', kategori: 'angka' },

            // --- Tempat dan Lokasi ---
            { id: 'nihon', kana: '„Å´„Åª„Çì', kanji: 'Êó•Êú¨', romaji: 'nihon', arti: 'Jepang', kategori: 'tempat' },
            { id: 'gakkou', kana: '„Åå„Å£„Åì„ÅÜ', kanji: 'Â≠¶Ê†°', romaji: 'gakkou', arti: 'Sekolah', kategori: 'tempat' },
            { id: 'eki', kana: '„Åà„Åç', kanji: 'ÈßÖ', romaji: 'eki', arti: 'Stasiun', kategori: 'tempat' },
            { id: 'ie/uchi', kana: '„ÅÑ„Åà / „ÅÜ„Å°', kanji: 'ÂÆ∂', romaji: 'ie / uchi', arti: 'Rumah', kategori: 'tempat' },
            { id: 'kaisha', kana: '„Åã„ÅÑ„Åó„ÇÉ', kanji: '‰ºöÁ§æ', romaji: 'kaisha', arti: 'Kantor / Perusahaan', kategori: 'tempat' },
            { id: 'ginkou', kana: '„Åé„Çì„Åì„ÅÜ', kanji: 'ÈäÄË°å', romaji: 'ginkou', arti: 'Bank', kategori: 'tempat' },
            { id: 'byouin', kana: '„Å≥„Çá„ÅÜ„ÅÑ„Çì', kanji: 'ÁóÖÈô¢', romaji: 'byouin', arti: 'Rumah sakit', kategori: 'tempat' },
            { id: 'resutoran', kana: '„É¨„Çπ„Éà„É©„É≥', kanji: '', romaji: 'resutoran', arti: 'Restoran', kategori: 'tempat' },
            { id: 'suupaa', kana: '„Çπ„Éº„Éë„Éº', kanji: '', romaji: 'suupaa', arti: 'Supermarket', kategori: 'tempat' },
            { id: 'depaato', kana: '„Éá„Éë„Éº„Éà', kanji: '', romaji: 'depaato', arti: 'Toserba', kategori: 'tempat' },
            { id: 'machi', kana: '„Åæ„Å°', kanji: 'Áî∫', romaji: 'machi', arti: 'Kota', kategori: 'tempat' },
            { id: 'kuni', kana: '„Åè„Å´', kanji: 'ÂõΩ', romaji: 'kuni', arti: 'Negara', kategori: 'tempat' },
            { id: 'heya', kana: '„Å∏„ÇÑ', kanji: 'ÈÉ®Â±ã', romaji: 'heya', arti: 'Kamar', kategori: 'tempat' },
            { id: 'toire', kana: '„Éà„Ç§„É¨', kanji: '', romaji: 'toire', arti: 'Toilet', kategori: 'tempat' },

            // --- Makanan dan Minuman ---
            { id: 'gohan', kana: '„Åî„ÅØ„Çì', kanji: '„ÅîÈ£Ø', romaji: 'gohan', arti: 'Nasi / Makanan', kategori: 'makanan' },
            { id: 'pan', kana: '„Éë„É≥', kanji: '', romaji: 'pan', arti: 'Roti', kategori: 'makanan' },
            { id: 'mizu', kana: '„Åø„Åö', kanji: 'Ê∞¥', romaji: 'mizu', arti: 'Air', kategori: 'minuman' },
            { id: 'ocha', kana: '„Åä„Å°„ÇÉ', kanji: '„ÅäËå∂', romaji: 'ocha', arti: 'Teh', kategori: 'minuman' },
            { id: 'koohii', kana: '„Ç≥„Éº„Éí„Éº', kanji: '', romaji: 'koohii', arti: 'Kopi', kategori: 'minuman' },
            { id: 'gyuunyuu', kana: '„Åé„ÇÖ„ÅÜ„Å´„ÇÖ„ÅÜ', kanji: 'Áâõ‰π≥', romaji: 'gyuunyuu', arti: 'Susu', kategori: 'minuman' },
            { id: 'niku', kana: '„Å´„Åè', kanji: 'ËÇâ', romaji: 'niku', arti: 'Daging', kategori: 'makanan' },
            { id: 'sakana', kana: '„Åï„Åã„Å™', kanji: 'È≠ö', romaji: 'sakana', arti: 'Ikan', kategori: 'makanan' },
            { id: 'yasai', kana: '„ÇÑ„Åï„ÅÑ', kanji: 'ÈáéËèú', romaji: 'yasai', arti: 'Sayur', kategori: 'makanan' },
            { id: 'kudamono', kana: '„Åè„Å†„ÇÇ„ÅÆ', kanji: 'ÊûúÁâ©', romaji: 'kudamono', arti: 'Buah', kategori: 'makanan' },
            { id: 'tamago', kana: '„Åü„Åæ„Åî', kanji: 'Âçµ', romaji: 'tamago', arti: 'Telur', kategori: 'makanan' },
            { id: 'juusu', kana: '„Ç∏„É•„Éº„Çπ', kanji: '', romaji: 'juusu', arti: 'Jus', kategori: 'minuman' },
            { id: 'biiru', kana: '„Éì„Éº„É´', kanji: '', romaji: 'biiru', arti: 'Bir', kategori: 'minuman' },

            // --- Kata Kerja ---
            { id: 'taberu', kana: '„Åü„Åπ„Çã', kanji: 'È£ü„Åπ„Çã', romaji: 'taberu', arti: 'Makan', kategori: 'kerja' },
            { id: 'nomu', kana: '„ÅÆ„ÇÄ', kanji: 'È£≤„ÇÄ', romaji: 'nomu', arti: 'Minum', kategori: 'kerja' },
            { id: 'miru', kana: '„Åø„Çã', kanji: 'Ë¶ã„Çã', romaji: 'miru', arti: 'Melihat', kategori: 'kerja' },
            { id: 'kiku', kana: '„Åç„Åè', kanji: 'ËÅû„Åè', romaji: 'kiku', arti: 'Mendengar / Bertanya', kategori: 'kerja' },
            { id: 'hanasu', kana: '„ÅØ„Å™„Åô', kanji: 'Ë©±„Åô', romaji: 'hanasu', arti: 'Berbicara', kategori: 'kerja' },
            { id: 'yomu', kana: '„Çà„ÇÄ', kanji: 'Ë™≠„ÇÄ', romaji: 'yomu', arti: 'Membaca', kategori: 'kerja' },
            { id: 'kaku', kana: '„Åã„Åè', kanji: 'Êõ∏„Åè', romaji: 'kaku', arti: 'Menulis', kategori: 'kerja' },
            { id: 'iku', kana: '„ÅÑ„Åè', kanji: 'Ë°å„Åè', romaji: 'iku', arti: 'Pergi', kategori: 'kerja' },
            { id: 'kuru', kana: '„Åè„Çã', kanji: 'Êù•„Çã', romaji: 'kuru', arti: 'Datang', kategori: 'kerja' },
            { id: 'kaeru', kana: '„Åã„Åà„Çã', kanji: 'Â∏∞„Çã', romaji: 'kaeru', arti: 'Pulang', kategori: 'kerja' },
            { id: 'neru', kana: '„Å≠„Çã', kanji: 'ÂØù„Çã', romaji: 'neru', arti: 'Tidur', kategori: 'kerja' },
            { id: 'okiru', kana: '„Åä„Åç„Çã', kanji: 'Ëµ∑„Åç„Çã', romaji: 'okiru', arti: 'Bangun', kategori: 'kerja' },
            { id: 'benkyousuru', kana: '„Åπ„Çì„Åç„Çá„ÅÜ„Åô„Çã', kanji: 'ÂãâÂº∑„Åô„Çã', romaji: 'benkyou suru', arti: 'Belajar', kategori: 'kerja' },
            { id: 'shigotowosuru', kana: '„Åó„Åî„Å®„Çí„Åô„Çã', kanji: '‰ªï‰∫ã„Çí„Åô„Çã', romaji: 'shigoto wo suru', arti: 'Bekerja', kategori: 'kerja' },
            { id: 'wakaru', kana: '„Çè„Åã„Çã', kanji: 'ÂàÜ„Åã„Çã', romaji: 'wakaru', arti: 'Mengerti', kategori: 'kerja' },
            { id: 'shiru', kana: '„Åó„Çã', kanji: 'Áü•„Çã', romaji: 'shiru', arti: 'Tahu', kategori: 'kerja' },
            { id: 'motsu', kana: '„ÇÇ„Å§', kanji: 'ÊåÅ„Å§', romaji: 'motsu', arti: 'Membawa / Memiliki', kategori: 'kerja' },
            { id: 'kau', kana: '„Åã„ÅÜ', kanji: 'Ë≤∑„ÅÜ', romaji: 'kau', arti: 'Membeli', kategori: 'kerja' },
            { id: 'uru', kana: '„ÅÜ„Çã', kanji: 'Â£≤„Çã', romaji: 'uru', arti: 'Menjual', kategori: 'kerja' },

            // --- Kata Sifat (i-keiyoushi) ---
            { id: 'ookii', kana: '„Åä„Åä„Åç„ÅÑ', kanji: 'Â§ß„Åç„ÅÑ', romaji: 'ookii', arti: 'Besar', kategori: 'sifat' },
            { id: 'chiisai', kana: '„Å°„ÅÑ„Åï„ÅÑ', kanji: 'Â∞è„Åï„ÅÑ', romaji: 'chiisai', arti: 'Kecil', kategori: 'sifat' },
            { id: 'atarashii', kana: '„ÅÇ„Åü„Çâ„Åó„ÅÑ', kanji: 'Êñ∞„Åó„ÅÑ', romaji: 'atarashii', arti: 'Baru', kategori: 'sifat' },
            { id: 'furui', kana: '„Åµ„Çã„ÅÑ', kanji: 'Âè§„ÅÑ', romaji: 'furui', arti: 'Lama / Tua', kategori: 'sifat' },
            { id: 'yoi/ii', kana: '„Çà„ÅÑ / „ÅÑ„ÅÑ', kanji: 'ËâØ„ÅÑ', romaji: 'yoi / ii', arti: 'Baik', kategori: 'sifat' },
            { id: 'warui', kana: '„Çè„Çã„ÅÑ', kanji: 'ÊÇ™„ÅÑ', romaji: 'warui', arti: 'Jelek / Buruk', kategori: 'sifat' },
            { id: 'takai', kana: '„Åü„Åã„ÅÑ', kanji: 'È´ò„ÅÑ', romaji: 'takai', arti: 'Tinggi / Mahal', kategori: 'sifat' },
            { id: 'yasui', kana: '„ÇÑ„Åô„ÅÑ', kanji: 'ÂÆâ„ÅÑ', romaji: 'yasui', arti: 'Murah', kategori: 'sifat' },
            { id: 'samui', kana: '„Åï„ÇÄ„ÅÑ', kanji: 'ÂØí„ÅÑ', romaji: 'samui', arti: 'Dingin (cuaca)', kategori: 'sifat' },
            { id: 'atsui', kana: '„ÅÇ„Å§„ÅÑ', kanji: 'Êöë„ÅÑ', romaji: 'atsui', arti: 'Panas (cuaca)', kategori: 'sifat' },
            { id: 'isogashii', kana: '„ÅÑ„Åù„Åå„Åó„ÅÑ', kanji: 'Âøô„Åó„ÅÑ', romaji: 'isogashii', arti: 'Sibuk', kategori: 'sifat' },
            { id: 'tanoshii', kana: '„Åü„ÅÆ„Åó„ÅÑ', kanji: 'Ê•Ω„Åó„ÅÑ', romaji: 'tanoshii', arti: 'Menyenangkan', kategori: 'sifat' },
            { id: 'muzukashii', kana: '„ÇÄ„Åö„Åã„Åó„ÅÑ', kanji: 'Èõ£„Åó„ÅÑ', romaji: 'muzukashii', arti: 'Sulit', kategori: 'sifat' },
            { id: 'yasashii', kana: '„ÇÑ„Åï„Åó„ÅÑ', kanji: 'Êòì„Åó„ÅÑ', romaji: 'yasashii', arti: 'Mudah / Baik hati', kategori: 'sifat' },

            // --- Kata Sifat (na-keiyoushi) ---
            { id: 'kirei', kana: '„Åç„Çå„ÅÑ', kanji: 'Á∂∫È∫ó', romaji: 'kirei', arti: 'Cantik / Bersih', kategori: 'sifat' },
            { id: 'shizuka', kana: '„Åó„Åö„Åã', kanji: 'Èùô„Åã', romaji: 'shizuka', arti: 'Tenang / Sunyi', kategori: 'sifat' },
            { id: 'nigiyaka', kana: '„Å´„Åé„ÇÑ„Åã', kanji: 'Ë≥ë„ÇÑ„Åã', romaji: 'nigiyaka', arti: 'Ramai / Sibuk (tempat)', kategori: 'sifat' },
            { id: 'yuumei', kana: '„ÇÜ„ÅÜ„ÇÅ„ÅÑ', kanji: 'ÊúâÂêç', romaji: 'yuumei', arti: 'Terkenal', kategori: 'sifat' },
            { id: 'genki', kana: '„Åí„Çì„Åç', kanji: 'ÂÖÉÊ∞ó', romaji: 'genki', arti: 'Sehat / Semangat', kategori: 'sifat' },
            { id: 'benri', kana: '„Åπ„Çì„Çä', kanji: '‰æøÂà©', romaji: 'benri', arti: 'Praktis / Nyaman', kategori: 'sifat' },
            { id: 'fuben', kana: '„Åµ„Åπ„Çì', kanji: '‰∏ç‰æø', romaji: 'fuben', arti: 'Tidak praktis / Tidak nyaman', kategori: 'sifat' },
            { id: 'jouzu', kana: '„Åò„Çá„ÅÜ„Åö', kanji: '‰∏äÊâã', romaji: 'jouzu', arti: 'Mahir / Pandai', kategori: 'sifat' },
            { id: 'heta', kana: '„Å∏„Åü', kanji: '‰∏ãÊâã', romaji: 'heta', arti: 'Tidak mahir / Canggung', kategori: 'sifat' },

            // --- Kata Benda Umum ---
            { id: 'hon', kana: '„Åª„Çì', kanji: 'Êú¨', romaji: 'hon', arti: 'Buku', kategori: 'benda' },
            { id: 'kaban', kana: '„Åã„Å∞„Çì', kanji: '', romaji: 'kaban', arti: 'Tas', kategori: 'benda' },
            { id: 'tsukue', kana: '„Å§„Åè„Åà', kanji: 'Êú∫', romaji: 'tsukue', arti: 'Meja', kategori: 'benda' },
            { id: 'isu', kana: '„ÅÑ„Åô', kanji: 'Ê§ÖÂ≠ê', romaji: 'isu', arti: 'Kursi', kategori: 'benda' },
            { id: 'tegami', kana: '„Å¶„Åå„Åø', kanji: 'ÊâãÁ¥ô', romaji: 'tegami', arti: 'Surat', kategori: 'benda' },
            { id: 'eiga', kana: '„Åà„ÅÑ„Åå', kanji: 'Êò†Áîª', romaji: 'eiga', arti: 'Film', kategori: 'benda' },
            { id: 'ongaku', kana: '„Åä„Çì„Åå„Åè', kanji: 'Èü≥Ê•Ω', romaji: 'ongaku', arti: 'Musik', kategori: 'benda' },
            { id: 'terebi', kana: '„ÉÜ„É¨„Éì', kanji: '', romaji: 'terebi', arti: 'Televisi', kategori: 'benda' },
            { id: 'kuruma', kana: '„Åè„Çã„Åæ', kanji: 'Ëªä', romaji: 'kuruma', arti: 'Mobil', kategori: 'transportasi' },
            { id: 'densha', kana: '„Åß„Çì„Åó„ÇÉ', kanji: 'ÈõªËªä', romaji: 'densha', arti: 'Kereta listrik', kategori: 'transportasi' },
            { id: 'basu', kana: '„Éê„Çπ', kanji: '', romaji: 'basu', arti: 'Bus', kategori: 'transportasi' },
            { id: 'hikouki', kana: '„Å≤„Åì„ÅÜ„Åç', kanji: 'È£õË°åÊ©ü', romaji: 'hikouki', arti: 'Pesawat terbang', kategori: 'transportasi' },
            { id: 'denwa', kana: '„Åß„Çì„Çè', kanji: 'ÈõªË©±', romaji: 'denwa', arti: 'Telepon', kategori: 'benda' },
            { id: 'okane', kana: '„Åä„Åã„Å≠', kanji: '„ÅäÈáë', romaji: 'okane', arti: 'Uang', kategori: 'benda' },
            { id: 'jikan', kana: '„Åò„Åã„Çì', kanji: 'ÊôÇÈñì', romaji: 'jikan', arti: 'Waktu', kategori: 'waktu' },
            { id: 'kyou', kana: '„Åç„Çá„ÅÜ', kanji: '‰ªäÊó•', romaji: 'kyou', arti: 'Hari ini', kategori: 'waktu' },
            { id: 'ashita', kana: '„ÅÇ„Åó„Åü', kanji: 'ÊòéÊó•', romaji: 'ashita', arti: 'Besok', kategori: 'waktu' },
            { id: 'kinou', kana: '„Åç„ÅÆ„ÅÜ', kanji: 'Êò®Êó•', romaji: 'kinou', arti: 'Kemarin', kategori: 'waktu' },
            { id: 'maiasa', kana: '„Åæ„ÅÑ„ÅÇ„Åï', kanji: 'ÊØéÊúù', romaji: 'maiasa', arti: 'Setiap pagi', kategori: 'waktu' },
            { id: 'mainichi', kana: '„Åæ„ÅÑ„Å´„Å°', kanji: 'ÊØéÊó•', romaji: 'mainichi', arti: 'Setiap hari', kategori: 'waktu' },
            { id: 'raishuu', kana: '„Çâ„ÅÑ„Åó„ÇÖ„ÅÜ', kanji: 'Êù•ÈÄ±', romaji: 'raishuu', arti: 'Minggu depan', kategori: 'waktu' },
            { id: 'senshuu', kana: '„Åõ„Çì„Åó„ÇÖ„ÅÜ', kanji: 'ÂÖàÈÄ±', romaji: 'senshuu', arti: 'Minggu lalu', kategori: 'waktu' },
            { id: 'ima', kana: '„ÅÑ„Åæ', kanji: '‰ªä', romaji: 'ima', arti: 'Sekarang', kategori: 'waktu' },
            { id: 'gozen', kana: '„Åî„Åú„Çì', kanji: 'ÂçàÂâç', romaji: 'gozen', arti: 'Pagi (AM)', kategori: 'waktu' },
            { id: 'gogo', kana: '„Åî„Åî', kanji: 'ÂçàÂæå', romaji: 'gogo', arti: 'Sore (PM)', kategori: 'waktu' },

            // --- Hewan ---
            { id: 'neko', kana: '„Å≠„Åì', kanji: 'Áå´', romaji: 'neko', arti: 'Kucing', kategori: 'hewan' },
            { id: 'inu', kana: '„ÅÑ„Å¨', kanji: 'Áä¨', romaji: 'inu', arti: 'Anjing', kategori: 'hewan' },
            { id: 'tori', kana: '„Å®„Çä', kanji: 'È≥•', romaji: 'tori', arti: 'Burung', kategori: 'hewan' },
            { id: 'uma', kana: '„ÅÜ„Åæ', kanji: 'È¶¨', romaji: 'uma', arti: 'Kuda', kategori: 'hewan' },
            { id: 'zou', kana: '„Åû„ÅÜ', kanji: 'Ë±°', romaji: 'zou', arti: 'Gajah', kategori: 'hewan' },

            // --- Cuaca ---
            { id: 'tenki', kana: '„Å¶„Çì„Åç', kanji: 'Â§©Ê∞ó', romaji: 'tenki', arti: 'Cuaca', kategori: 'cuaca' },
            { id: 'hare', kana: '„ÅØ„Çå', kanji: 'Êô¥„Çå', romaji: 'hare', arti: 'Cerah', kategori: 'cuaca' },
            { id: 'ame', kana: '„ÅÇ„ÇÅ', kanji: 'Èõ®', romaji: 'ame', arti: 'Hujan', kategori: 'cuaca' },
            { id: 'yuki', kana: '„ÇÜ„Åç', kanji: 'Èõ™', romaji: 'yuki', arti: 'Salju', kategori: 'cuaca' },
            { id: 'kumori', kana: '„Åè„ÇÇ„Çä', kanji: 'Êõá„Çä', romaji: 'kumori', arti: 'Berawan', kategori: 'cuaca' },

            // --- Warna ---
            { id: 'aka', kana: '„ÅÇ„Åã', kanji: 'Ëµ§', romaji: 'aka', arti: 'Merah', kategori: 'warna' },
            { id: 'ao', kana: '„ÅÇ„Åä', kanji: 'Èùí', romaji: 'ao', arti: 'Biru', kategori: 'warna' },
            { id: 'shiro', kana: '„Åó„Çç', kanji: 'ÁôΩ', romaji: 'shiro', arti: 'Putih', kategori: 'warna' },
            { id: 'kuro', kana: '„Åè„Çç', kanji: 'Èªí', romaji: 'kuro', arti: 'Hitam', kategori: 'warna' },
            { id: 'kiiro', kana: '„Åç„ÅÑ„Çç', kanji: 'ÈªÑËâ≤', romaji: 'kiiro', arti: 'Kuning', kategori: 'warna' },
            { id: 'midori', kana: '„Åø„Å©„Çä', kanji: 'Á∑ë', romaji: 'midori', arti: 'Hijau', kategori: 'warna' },

            // --- Pakaian ---
            { id: 'fuku', kana: '„Åµ„Åè', kanji: 'Êúç', romaji: 'fuku', arti: 'Pakaian', kategori: 'pakaian' },
            { id: 'shatsu', kana: '„Ç∑„É£„ÉÑ', kanji: '', romaji: 'shatsu', arti: 'Kemeja', kategori: 'pakaian' },
            { id: 'zubon', kana: '„Ç∫„Éú„É≥', kanji: '', romaji: 'zubon', arti: 'Celana', kategori: 'pakaian' },
            { id: 'sukaato', kana: '„Çπ„Ç´„Éº„Éà', kanji: '', romaji: 'sukaato', arti: 'Rok', kategori: 'pakaian' },
            { id: 'kutsu', kana: '„Åè„Å§', kanji: 'Èù¥', romaji: 'kutsu', arti: 'Sepatu', kategori: 'pakaian' },
            { id: 'boushi', kana: '„Åº„ÅÜ„Åó', kanji: 'Â∏ΩÂ≠ê', romaji: 'boushi', arti: 'Topi', kategori: 'pakaian' },
        ];

        // STATE (untuk favorit dan SRS)
        const VOCAB_KEY = 'kanaTrainer_vocab_v1';
        let state = loadVocabState();

        function loadVocabState() {
            try {
                const raw = localStorage.getItem(VOCAB_KEY);
                const loadedState = raw ? JSON.parse(raw) : {};
                // Initialize fav as a Set for easier lookup
                loadedState.fav = new Set(loadedState.fav || []);
                // Initialize srs as an object
                loadedState.srs = loadedState.srs || {};
                return loadedState;
            } catch (e) {
                console.error("Error loading vocab state from localStorage:", e);
                return { fav: new Set(), srs: {} };
            }
        }

        function saveVocabState() {
            try {
                const stateToSave = {
                    ...state,
                    fav: Array.from(state.fav) // Convert Set back to Array for storage
                };
                localStorage.setItem(VOCAB_KEY, JSON.stringify(stateToSave));
            } catch (e) {
                console.error("Error saving vocab state to localStorage:", e);
            }
        }

        // SRS Intervals (in seconds) - Re-defined here for index4.html
        const SRS_INTERVAL = {
            1: 0,      // Box 1: Immediate repeat
            2: 86400,  // Box 2: 1 day
            3: 3 * 86400, // Box 3: 3 days
            4: 7 * 86400, // Box 4: 7 days
            5: 14 * 86400 // Box 5: 14 days
        };

        // Function to mark SRS progress
        window.srsMark = function(vocabId, isCorrect) {
            const now = Math.floor(Date.now() / 1000);
            const currentBox = state.srs[vocabId] ? state.srs[vocabId].box : 1;
            let nextBox = currentBox;

            if (isCorrect) {
                nextBox = Math.min(5, currentBox + 1);
            } else {
                nextBox = 1; // Reset to box 1 on incorrect answer
            }

            state.srs[vocabId] = {
                box: nextBox,
                due: now + SRS_INTERVAL[nextBox]
            };
            saveVocabState();
        };

        window.dueToday = function() {
            const now = Math.floor(Date.now() / 1000);
            return vocabulary.filter(item => {
                const srsData = state.srs[item.id];
                return srsData && srsData.due <= now;
            });
        };


        // Elemen DOM
        const searchInput = document.getElementById('searchInput');
        const categoryChips = document.getElementById('categoryChips');
        const vocabList = document.getElementById('vocabList');

        let activeCategory = 'semua';
        let currentFilteredVocab = []; // Global variable for filtered vocab

        function renderCategories() {
            const categories = ['semua', ...new Set(vocabulary.map(item => item.kategori))];
            categoryChips.innerHTML = '';
            categories.forEach(category => {
                const chip = document.createElement('button');
                chip.className = 'chip';
                // Capitalize first letter for display
                chip.textContent = category.charAt(0).toUpperCase() + category.slice(1);
                chip.dataset.category = category;
                if (category === activeCategory) {
                    chip.classList.add('active');
                }
                chip.addEventListener('click', () => {
                    activeCategory = category;
                    renderCategories(); // Render ulang untuk memperbarui status aktif
                    renderVocabList(); // Render ulang daftar kosakata
                });
                categoryChips.appendChild(chip);
            });
        }

        function renderVocabList() {
            const searchTerm = searchInput.value.toLowerCase();
            
            currentFilteredVocab = vocabulary.filter(item => {
                const inCategory = activeCategory === 'semua' || item.kategori === activeCategory;
                const matchesSearch = item.kana.includes(searchTerm) ||
                                            item.romaji.includes(searchTerm) ||
                                            item.arti.toLowerCase().includes(searchTerm) ||
                                            (item.kanji && item.kanji.includes(searchTerm)); // Periksa kanji jika ada
                return inCategory && matchesSearch;
            });

            vocabList.innerHTML = ''; // Kosongkan daftar saat ini
            if (currentFilteredVocab.length === 0) {
                vocabList.innerHTML = '<li class="vocab-item"><div class="arti">Tidak ada hasil ditemukan.</div></li>';
                return;
            }

            currentFilteredVocab.forEach(item => {
                const li = document.createElement('li');
                li.className = 'vocab-item';
                li.innerHTML = `
                    <div class="vocab-jp">
                        <span class="kanji">${item.kanji || item.kana}</span>
                        ${item.kanji ? `<span class="kana">${item.kana}</span>` : ''}
                    </div>
                    <div class="vocab-id">
                        <span class="arti">${item.arti}</span>
                        <span class="romaji">${item.romaji}</span>
                    </div>
                    <i class="fa-solid fa-volume-up"></i>
                `;
                li.addEventListener('click', () => speak(item.kanji || item.kana)); // Ucapkan kanji jika tersedia, jika tidak kana
                vocabList.appendChild(li);
            });
            window.currentFilteredVocab = currentFilteredVocab; // Make it globally accessible for the quiz
        }

        function speak(text) {
            try {
                if (!('speechSynthesis' in window)) {
                    // Gunakan kotak pesan kustom sebagai ganti alert
                    displayMessageBox('Maaf, browser Anda tidak mendukung fitur audio.');
                    return;
                }
                speechSynthesis.cancel(); // Hentikan ucapan yang sedang berlangsung
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'ja-JP'; // Atur bahasa ke Jepang
                utterance.rate = 0.9; // Sesuaikan kecepatan ucapan sedikit
                speechSynthesis.speak(utterance);
            } catch (error) {
                console.error('Error speaking text:', error);
            }
        }

        // Fungsi kotak pesan kustom (menggantikan alert)
        function displayMessageBox(message) {
            const messageBox = document.createElement('div');
            messageBox.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background-color: var(--panel);
                color: var(--ink);
                padding: 20px;
                border-radius: var(--radius);
                box-shadow: var(--shadow);
                border: 1px solid var(--border);
                z-index: 1000;
                text-align: center;
                max-width: 300px;
                line-height: 1.5;
            `;
            messageBox.innerHTML = `
                <p>${message}</p>
                <button class="btn primary" onclick="this.parentNode.remove()">OK</button>
            `;
            document.body.appendChild(messageBox);
        }

        // Event Listeners
        searchInput.addEventListener('input', renderVocabList);

        // Inisialisasi
        document.addEventListener('DOMContentLoaded', () => {
            renderCategories();
            renderVocabList();
        });

        // Logika pengalih tema (dari index.html asli, ditambahkan untuk kelengkapan)
        const themeToggle = document.getElementById('themeToggle');
        if (themeToggle) {
            themeToggle.addEventListener('click', () => {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                const newTheme = currentTheme === 'pastel' ? 'hc' : 'pastel';
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
            });

            // Atur tema awal berdasarkan localStorage atau default
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                document.documentElement.setAttribute('data-theme', savedTheme);
            }
        }

        // --- SIDEBAR JS ---
        (() => {
            const sidebar  = document.getElementById('sidebar');
            const toggle   = document.getElementById('sidebarToggle');
            const closeBtn = document.getElementById('closeSidebar');

            function open(){ sidebar.classList.add('is-open'); document.body.classList.add('sidebar-open'); }
            function close(){ sidebar.classList.remove('is-open'); document.body.classList.remove('sidebar-open'); }

            toggle?.addEventListener('click', open);
            closeBtn?.addEventListener('click', close);

            // Klik luar = tutup (mobile)
            document.addEventListener('click', (e)=>{
                if(!sidebar.classList.contains('is-open')) return;
                const hit = sidebar.contains(e.target) || toggle.contains(e.target);
                if(!hit) close();
            });
            // ESC = tutup
            document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') close(); });

            // Tandai link aktif sesuai pathname
            document.querySelectorAll('#sidebar a').forEach(a=>{
                const href = a.getAttribute('href');
                // Use endsWith for robustness with different base paths
                if(href && location.pathname.endsWith(href)) {
                    a.classList.add('active');
                } else {
                    a.classList.remove('active'); // Ensure other links are not active
                }
            });
        })();

        // --- UJIAN / FLASHCARD ‚ÄúKETIK JAWABAN‚Äù (KHUSUS index4.html) ---
        (() => {
            const fcMode   = document.getElementById('fcMode');
            const fcSource = document.getElementById('fcSource');
            const fcStart  = document.getElementById('fcStart');
            const fcArea   = document.getElementById('fcArea');
            const fcPrompt = document.getElementById('fcPrompt');
            const fcInput  = document.getElementById('fcInput');
            const fcCheck  = document.getElementById('fcCheck');
            const fcReveal = document.getElementById('fcReveal');
            const fcNext   = document.getElementById('fcNext');
            const fcProg   = document.getElementById('fcProgress');
            const fcFeed   = document.getElementById('fcFeedback');

            // Ambil list sesuai pilihan sumber
            function getPool(){
                let list = (window.currentFilteredVocab && currentFilteredVocab.length) ? currentFilteredVocab.slice() : (vocabulary || []);
                if(fcSource.value === 'fav' && state?.fav){ list = list.filter(v => state.fav.has(v.id)); }
                if(fcSource.value === 'rand20'){ list = shuffle(list).slice(0,20); }
                return list;
            }

            function norm(s){ return (s||'').toString().trim().toLowerCase().replace(/\s+/g,' ').replace(/[Ôºç‚Äì‚Äî]/g,'-'); }

            function buildQA(item){
                const conf = {
                    'jp_idn': { q: item.kanji || item.kana, accept: [item.arti] },
                    'jp_ro' : { q: item.kanji || item.kana, accept: [item.romaji] },
                    'idn_jp': { q: item.arti,                accept: [item.kanji || item.kana] },
                    'ro_jp' : { q: item.romaji,              accept: [item.kanji || item.kana] }
                }[fcMode.value];
                // Add kana as an alternative answer for JP questions if kanji is the primary
                if (fcMode.value === 'idn_jp' || fcMode.value === 'ro_jp') {
                    if (item.kanji && item.kana && item.kanji !== item.kana) {
                        conf.accept.push(item.kana);
                    }
                }
                return { q: conf.q, a: conf.accept };
            }

            let deck = []; let idx = 0; let correct = 0;

            function updateProg(){ fcProg.textContent = `${Math.min(idx, deck.length)} / ${deck.length}`; }

            function showCard(){
                const it = deck[idx];
                if(!it){ finish(); return; }
                const qa = buildQA(it);
                fcPrompt.textContent = qa.q;
                fcInput.value = ''; fcInput.focus();
                fcFeed.textContent = ''; fcFeed.className = 'small center';
                fcNext.disabled = true;
                updateProg();
            }

            function check(){
                const it = deck[idx]; if(!it) return;
                const qa = buildQA(it);
                const ok = qa.a.some(x => norm(x) === norm(fcInput.value));
                if(ok){
                    correct++;
                    fcFeed.textContent = 'Benar! ‚úÖ'; fcFeed.classList.add('ok');
                    try{ if(window.srsMark) { srsMark(it.id, true); /* Update SRS */ } }catch(e){}
                }else{
                    fcFeed.innerHTML = `Salah. Jawaban: <b>${qa.a[0]}</b> ‚ùå`; fcFeed.classList.add('bad');
                    try{ if(window.srsMark) { srsMark(it.id, false); /* Update SRS */ } }catch(e){}
                }
                fcNext.disabled = false;
            }

            function reveal(){
                const it = deck[idx]; if(!it) return;
                const qa = buildQA(it);
                fcFeed.innerHTML = `Jawaban: <b>${qa.a[0]}</b>`;
                fcNext.disabled = false;
            }

            function next(){ idx++; showCard(); }

            function finish(){
                fcPrompt.textContent = 'Selesai! üéâ';
                fcInput.value = '';
                fcFeed.innerHTML = `Skor: <b>${correct}</b> / ${deck.length}`;
                fcNext.disabled = true;
                updateProg();
            }

            fcStart.addEventListener('click', () => {
                const pool = getPool();
                if(!pool.length){ fcArea.hidden = false; fcPrompt.textContent = 'Kosong. Atur filter atau tambahkan favorit dulu ya üôè'; fcFeed.textContent = ''; return; }
                deck = shuffle(pool).slice(0, Math.min(30, pool.length)); // Limit to 30 for a reasonable quiz length
                idx = 0; correct = 0; fcArea.hidden = false; showCard();
            });
            fcCheck.addEventListener('click', check);
            fcReveal.addEventListener('click', reveal);
            fcNext.addEventListener('click', next);
            fcInput.addEventListener('keydown', (e)=>{ 
                if(e.key==='Enter'){ e.preventDefault(); check(); } 
                if(e.key==='Tab'){ e.preventDefault(); if(!fcNext.disabled) next(); } 
            });

            function shuffle(a){ for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; } return a; }
        })();
    </script>
</body>
</html>
